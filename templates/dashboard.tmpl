<div id="dashboard">
  <div id="channels">
    <h3>Channels</h3>
    <ul>
      <li><a href="/dashboard">
        All Channels
      </a></li>
      {{range .channels}}
      <li>
      <img alt="" src="{{.ImageUrl}}" />
      <a href="/dashboard?channel={{.Id}}">
        {{.Title}}
      </a>
      </li>
      {{end}}
    </ul>

    <form class="form-inline" role="form" action="/api/channels" method="post">
      <div class="form-group">
        <label class="sr-only" for="exampleInputEmail2">Podcasts Address</label>
        <input type="text" placeholder="RSS Url" class="form-control" name="url">
      </div>
      <button type="submit" class="btn btn-default">Add</button>
    </form>
  </div>
  <div id="items">
    <h3> Episodes </h3>
    <ol id="episodes">
      {{range .items}}
      <li>
      <input disabled type="checkbox" {{ if . | UserViewedHelper }} checked {{end}} />
      <div class="about">
        <h4> {{ .Title }} </h4>
        <em> {{ .ChannelTitle }}</em>
        {{ .Description }}


        <form action="/api/items/{{ .Key }}/watched" method="post">
          <button type="submit" class="btn btn-link">Mark as watched!</button>
        </form>
      </div>
      <audio src="{{ .SourceUrl }}" preload="none"></audio>
      </li>
      {{end}}
    </ol>

    {{ .counter | Pagination  }}
  </div>

</div>

<script>
  audiojs.events.ready(function() {
    var audios = document.getElementsByTagName('audio');
    for(var i = 0; i < audios.length; i++) {
      audiojs.create(audios[  i], {
        css: false
      });
    }
    //   var as = audiojs.createAll();
  });
</script>

