var App=Ember.Application.create({LOG_TRANSITIONS:!0});App.ApplicationAdapter=DS.RESTAdapter.extend({namespace:"api"}),$(document).ready(function(){"use strict";$(window).on("resize",fixedSidebarHeight),$(document).on("click",".more-info",showDescription),$(document).on("mouseenter mouseleave",".unsubscribe",toggleHoverUnsubscribe),fixedSidebarHeight()});var fixedSidebarHeight=function(){"use strict";$("aside").css("height",window.innerHeight+"px")},showDescription=function(e){"use strict";var target=$(e.currentTarget),description=target.next(".description"),descriptionIsDisplayed=description.is(":visible");$(".description").slideUp(),descriptionIsDisplayed||description.slideDown()},toggleHoverUnsubscribe=function(e){var target=$(e.currentTarget);target.toggleClass("uk-button-danger"),label=window.t.get(target.is(".uk-button-danger")?"channel_new.button.unsubscribe":"channel_new.button.subscribed"),target.toggleClass("fa-times"),target.toggleClass("fa-check"),target.text(label)},Subscriptions={};Subscriptions.subscribe=function(_id){var route=this,id=_id,successSubscribe=function(data){var c=_.findWhere(route.controller.get("channels"),{id:data.channel.id});c||(c=route.controller.get("model")),c.set("subscribed",!0),route.store.push("channel",data.channel),$("#channel-"+id).show(),ga("send","event","button","subscribe","subscribe channel")},subscribeFn=function(){$.ajax({url:"/api/channels/"+id+"/subscribe",success:successSubscribe})};window.auth.withLoggedUser(subscribeFn)},Subscriptions.unsubscribe=function(_id){var route=this,id=_id,successUnsubscribe=function(){var c=_.findWhere(route.controller.get("channels"),{id:id});c||(c=route.controller.get("model")),c.set("subscribed",!1),$("#channel-"+id).hide(),ga("send","event","button","unsubscribe","channel")},unsubscribeFn=function(){$.ajax({url:"/api/channels/"+id+"/unsubscribe",success:successUnsubscribe})};window.auth.withLoggedUser(unsubscribeFn)},App.Auth=function(){"use strict";function Auth(){$.cookie("logged","true")}return Auth.prototype.isLogged=function(){return"true"===$.cookie("logged")},Auth.prototype.withLoggedUser=function(callback){callback()},Auth}(),window.auth=new App.Auth,App.ApplicationRoute=Ember.Route.extend({model:function(){"use strict";return this.store.find("subscription")},activate:function(){var title="Dashboard - Uhura App";$(document).attr("title",title),$("[property='og:title']").attr("content",title)}}),App.IndexRoute=Ember.Route.extend({setupController:function(controller){var _this=this;jQuery.getJSON("/api/suggestions").then(function(data){for(var i=data.channels.length-1;i>=0;i--)c=data.channels[i],episodes=_.where(data.episodes,{channel_id:c.id}),c.episodes=_.map(episodes,function(e){return _this.store.push("episode",e)}),data.channels[i]=c;controller.set("channels",data.channels)})}}),App.ChannelRoute=Ember.Route.extend({model:function(params){"use strict";return this.store.find("channel",params.channel_id)},activate:function(){var title=this.modelFor("channel").get("title");$(document).attr("title",title),$("[property='og:title']").attr("content",title)},actions:{subscribeChannel:Subscriptions.subscribe,unsubscribeChannel:Subscriptions.unsubscribe,reloadChannel:function(){var _this=this;$.post("/api/channels/"+this.currentModel.id+"/reload").then(function(){_this.currentModel.set("loading",!0)}),ga("send","event","button","reload","reload channel")}}}),App.ChannelController=Ember.ObjectController.extend({episodes:function(){return Ember.ArrayProxy.createWithMixins(Ember.SortableMixin,{sortProperties:["published_at"],sortAscending:!1,content:this.get("content.episodes")})}.property("content.episodes")}),App.ChannelNewRoute=Ember.Route.extend({deactivate:function(){this.controller.set("channels",null)},activate:function(){var title=window.t.get("channel_new.title");$(document).attr("title",title),$("[property='og:title']").attr("content",title)},actions:{searchChannel:function(){var _this=this;jQuery.getJSON("/api/s/channels",{q:$("#q").val()}).then(function(data){_this.controller.set("channels",_.map(data.channels,function(c){return Ember.Object.create(c)})),data.channels.length<1&&alert(t.get("channel_new.alert.not_found"))}),ga("send","event","form","search","search channel")},addChannel:function(){var _this=this;jQuery.post("/api/finder",{url:$("#url").val()}).then(function(data){_this.controller.set("channels",_.map(data.channels,function(c){return Ember.Object.create(c)})),data.channels.length<1&&alert(t.get("channel_new.alert.not_found"))}),ga("send","event","form","add","add channel")},subscribeChannel:Subscriptions.subscribe,unsubscribeChannel:Subscriptions.unsubscribe}}),App.PlayerController=Ember.ObjectController.extend({content:[],actions:{}}).create();var T=function(){function T(){}return this.language=$.cookie("language")||"en",this.currentKeys=function(){return this.keys[this.current()]},this.keys={en:{"channel.status.loading":"Trying find more episodes","channel.message.loading":"Finding new episodes","channel_new.title":"Add Channel","channel_new.podcast_url":"Podcast Feed URL:","channel_new.search":"Search Podcast:","channel_new.subtitle":"Add a new podcast or Search on Uhura database","channel_new.button.search":"Search","channel_new.button.add":"Add","channel_new.button.subscribe":"Subscribe!","channel_new.button.subscribed":"Subscribed","channel_new.button.unsubscribe":"Unsubscribed!","channel_new.alert.not_found":"Channel not found","footer.follow_us":"Follow Us","footer.like_us":"Like us page","footer.contact":"Found a bug? Tell me! <br /> Send a email to","i18n.changed":"The changes will be finished when page refresh","index.suggestions":"Suggestions","episode.button.info":"More Information","episode.button.listened":"Make as Listened","error.?user.no_match":"Password or Email wrong","error.?user.not_found":"Email not found on Uhura","error.?user.exists":"User Registered, please Sign In","sidebar.home":"Home","sidebar.channel_add":"Add Channel","sidebar.sign_out":"Sign Out"},pt:{"channel.status.loading":"Tentando buscar mais episódios","channel.message.loading":"Buscando novos episódios","channel_new.title":"Adicionar Canal","channel_new.podcast_url":"URL Feed do Podcast:","channel_new.search":"Buscar Podcasts:","channel_new.subtitle":"Assine um novo podcast ou busque no nosso banco de dados","channel_new.button.search":"Buscar","channel_new.button.add":"Adicionar","channel_new.button.subscribe":"Assine!","channel_new.button.subscribed":"Assinado","channel_new.button.unsubscribe":"Remover Assinaura!","channel_new.alert.not_found":"Não foi encontrado nenhum canal","footer.follow_us":"Siga-nos no","footer.like_us":"Curta nossa página","footer.contact":"Encontrou um Problema? Diga me! <br /> Envie um email para","i18n.changed":"A mudança de idioma será efetiva quando a pagina for recarregada","index.suggestions":"Sugestões","episode.button.info":"Mais Informações","episode.button.listened":"Marcar como Ouvido","error.?user.no_match":"Email ou Password não conferem","error.?user.not_found":"Email não encontrado","error.?user.exists":"Email já registrado, faça o login","sidebar.home":"Inicio","sidebar.channel_add":"Adicionar Canal","sidebar.sign_out":"Sair"}},T()};T.prototype.current=function(){return this.language},T.prototype.get=function(key){return this.currentKeys()[key]},T.prototype.change=function(language,withAlert){$.cookie("language",language),this.language=language,$("#languages button").removeClass("current"),$("#"+language).addClass("current"),withAlert&&alert(this.get("i18n.changed")),ga("send","event","button","language","changed language")},T.prototype.init=function(){this.change(this.language)},window.t=t=new T,"undefined"!=typeof Handlebars&&Handlebars.registerHelper("t",function(key){return window.t.get(key)}),App.Channel=DS.Model.extend({title:DS.attr(),image_url:DS.attr(),url:DS.attr(),uri:DS.attr(),description:DS.attr(),copyright:DS.attr(),subscribed:DS.attr(),episodes:DS.hasMany("episode",{async:!0}),to_view:DS.attr()}),App.Subscription=DS.Model.extend({title:DS.attr(),image_url:DS.attr(),url:DS.attr(),uri:DS.attr(),to_view:DS.attr()}),App.Episode=DS.Model.extend({title:DS.attr(),description:DS.attr(),source_url:DS.attr(),playing:DS.attr(),listened:DS.attr(),published_at:DS.attr(),channel_id:DS.attr("number"),uri:DS.attr(),duration:DS.attr(),durationISO:function(){return duration=this.get("duration"),2==duration.split(":").length&&(duration="00:"+duration),duration=moment.duration(duration),duration.toIsoString()}.property("duration"),channel:function(){return this.store.findById("channel",this.get("channel_id"))}.property("channel_id"),url:function(){return host=window.location.host,"http://"+host+"/channels/"+this.get("channel_id")+"/"+this.get("uri")}.property("channel_id","id")}),App.Player={},App.Player.episodes={},App.Player.events={},App.Player.current={model:null,audio:null},App.Player.events.loading=function(){"use strict";var percent=100*this.bytesLoaded/this.bytesTotal;$("#player-loader div.loading").css("width",percent+"%")},App.Player.events.playing=function(){"use strict";var playing=100*this.position/this.duration;$("#player-loader div.playing").css("width",playing+"%")},App.Player.events.onload=function(){"use strict";this.onPosition(.95*this.duration,function(){var episode=App.Player.playing;App.Player.listened(episode)})},App.Player.getAudio=function(id){"use strict";if(!App.Player.episodes[id]){var el=$("[data-id="+id+"]"),audio=el.data(),sound=soundManager.createSound({id:"e"+audio.id,url:[audio.source_url],onplay:App.Player.events.play,onpause:App.Player.events.pause,whileloading:App.Player.events.loading,whileplaying:App.Player.events.playing,onload:App.Player.events.onload,autoLoad:!0});App.Player.episodes[id]=sound}return App.Player.episodes[id]},App.Player.play=function(episode){"use strict";var playingEpisode=App.Player.current.model;playingEpisode&&App.Player.stop(playingEpisode);var audio=this.getAudio(episode.id);App.Player.current.audio=audio,App.Player.current.model=episode,App.PlayerController.set("model",episode),episode.set("playing",!0),App.Player.current.audio.play(),ga("send","event","button","play","play episode")},App.Player.togglePause=function(episode){"use strict";var isPlaying=App.Player.current.model.get("playing");App.Player.current.audio.togglePause(),episode.set("playing",!isPlaying),ga("send","event","button","togglePause","togglePause episode")},App.Player.stop=function(episode){"use strict";App.PlayerController.set("model",null),$("#player-loader div").css("width",0),App.Player.current.audio.destruct(),App.Player.current.audio=App.Player.current.model=null,episode.set("playing",!1),ga("send","event","button","stop","stop episode")},App.Player.playpause=function(episode){"use strict";var isPlaying=App.Player.current.model;isPlaying&&isPlaying.id===episode.id?App.Player.togglePause(episode):App.Player.play(episode)},App.Player.listened=function(episode){"use strict";var url="/api/episodes/"+episode.id+"/listened";$.post(url).then(function(){episode.set("listened",!0),ga("send","event","button","listened","listened episode")})},soundManager.setup({url:"/swf",flashVersion:9,useHTML5Audio:!0,preferFlash:!1,waitForWindowLoad:!0,debugMode:!0,useFlashBlock:!1,autoLoad:!1,useHighPerformance:!0,allowScriptAccess:"always"}),soundManager.ontimeout(function(){window.location.reload()}),App.Router.map(function(){"use strict";this.route("channel.new",{path:"/add"}),this.route("channel",{path:"/:channel_id"})}),App.Router.reopen({rootURL:"/app/",location:"history",didTransition:function(infos){this._super(infos),void 0!==window.ga&&Ember.run.next(function(){ga("send","pageview",window.location.pathname)})}}),Ember.TEMPLATES.application=Ember.Handlebars.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var helper,options,buffer="";return data.buffer.push('\n          <span class="typcn typcn-home-outline"></span>'),data.buffer.push(escapeExpression((helper=helpers.t||depth0&&depth0.t,options={hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["STRING"],data:data},helper?helper.call(depth0,"sidebar.home",options):helperMissing.call(depth0,"t","sidebar.home",options)))),data.buffer.push("\n        "),buffer}function program3(depth0,data){var helper,options,buffer="";return data.buffer.push('\n          <span class="typcn typcn-document-add"></span>'),data.buffer.push(escapeExpression((helper=helpers.t||depth0&&depth0.t,options={hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["STRING"],data:data},helper?helper.call(depth0,"sidebar.channel_add",options):helperMissing.call(depth0,"t","sidebar.channel_add",options)))),data.buffer.push("\n        "),buffer}function program5(depth0,data){var stack1,helper,options,buffer="";return data.buffer.push('\n      <li id="channel-'),data.buffer.push(escapeExpression(helpers.unbound.call(depth0,"channel.id",{hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["ID"],data:data}))),data.buffer.push('">\n        '),helper=helpers["link-to"]||depth0&&depth0["link-to"],options={hash:{},hashTypes:{},hashContexts:{},inverse:self.noop,fn:self.program(6,program6,data),contexts:[depth0,depth0],types:["STRING","ID"],data:data},stack1=helper?helper.call(depth0,"channel","channel.id",options):helperMissing.call(depth0,"link-to","channel","channel.id",options),(stack1||0===stack1)&&data.buffer.push(stack1),data.buffer.push("\n      </li>\n    "),buffer}function program6(depth0,data){var stack1,buffer="";return data.buffer.push("\n          <img "),data.buffer.push(escapeExpression(helpers["bind-attr"].call(depth0,{hash:{src:"channel.image_url"},hashTypes:{src:"ID"},hashContexts:{src:depth0},contexts:[],types:[],data:data}))),data.buffer.push(' />\n          <span class="title">'),stack1=helpers._triageMustache.call(depth0,"channel.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["ID"],data:data}),(stack1||0===stack1)&&data.buffer.push(stack1),data.buffer.push("</span>\n          <i>"),stack1=helpers._triageMustache.call(depth0,"channel.to_view",{hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["ID"],data:data}),(stack1||0===stack1)&&data.buffer.push(stack1),data.buffer.push("</i>\n        "),buffer}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Ember.Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this;return data.buffer.push('<div id="aside-wrapper" class="column three-twelfth">\n  <aside class="column three-twelfth">\n    <header>\n      <hgroup>\n        <h1>Uhura</h1>\n        <h2>Podcast Manager</h2>\n      </hgroup>\n    </header>\n\n    <ul>\n      <li>\n        '),helper=helpers["link-to"]||depth0&&depth0["link-to"],options={hash:{},hashTypes:{},hashContexts:{},inverse:self.noop,fn:self.program(1,program1,data),contexts:[depth0],types:["STRING"],data:data},stack1=helper?helper.call(depth0,"index",options):helperMissing.call(depth0,"link-to","index",options),(stack1||0===stack1)&&data.buffer.push(stack1),data.buffer.push("\n      </li>\n      <li>\n        "),helper=helpers["link-to"]||depth0&&depth0["link-to"],options={hash:{},hashTypes:{},hashContexts:{},inverse:self.noop,fn:self.program(3,program3,data),contexts:[depth0],types:["STRING"],data:data},stack1=helper?helper.call(depth0,"channel.new",options):helperMissing.call(depth0,"link-to","channel.new",options),(stack1||0===stack1)&&data.buffer.push(stack1),data.buffer.push('\n      </li>\n      <li>\n        <a href="/users/sign_out">\n          <span class="typcn typcn-power-outline"></span>'),data.buffer.push(escapeExpression((helper=helpers.t||depth0&&depth0.t,options={hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["STRING"],data:data},helper?helper.call(depth0,"sidebar.sign_out",options):helperMissing.call(depth0,"t","sidebar.sign_out",options)))),data.buffer.push("\n        </a>\n      </li>\n    </ul>\n\n    <ol>\n    "),stack1=helpers.each.call(depth0,"channel","in","model",{hash:{},hashTypes:{},hashContexts:{},inverse:self.noop,fn:self.program(5,program5,data),contexts:[depth0,depth0,depth0],types:["ID","ID","ID"],data:data}),(stack1||0===stack1)&&data.buffer.push(stack1),data.buffer.push('\n    </ol>\n\n    <footer>\n      <a href="http://twitter.com/UhuraApp"><span class="typcn typcn-social-twitter"> </span>'),data.buffer.push(escapeExpression((helper=helpers.t||depth0&&depth0.t,options={hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["STRING"],data:data},helper?helper.call(depth0,"footer.follow_us",options):helperMissing.call(depth0,"t","footer.follow_us",options)))),data.buffer.push('</a>\n      <br />\n      <a href="https://www.facebook.com/uhuraapp"><span class="typcn typcn-social-facebook"></span>'),data.buffer.push(escapeExpression((helper=helpers.t||depth0&&depth0.t,options={hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["STRING"],data:data},helper?helper.call(depth0,"footer.like_us",options):helperMissing.call(depth0,"t","footer.like_us",options)))),data.buffer.push("</a>\n\n      <p>"),helper=helpers.t||depth0&&depth0.t,options={hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["STRING"],data:data},stack1=helper?helper.call(depth0,"footer.contact",options):helperMissing.call(depth0,"t","footer.contact",options),(stack1||0===stack1)&&data.buffer.push(stack1),data.buffer.push('\n         <a href="mailto:dukekhaos@gmail.com">dukekhaos@gmail.com</a></p>\n    </footer>\n  </aside>\n</div>\n\n<div id="content" class="column nine-twelfth">\n  '),stack1=helpers._triageMustache.call(depth0,"outlet",{hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["ID"],data:data}),(stack1||0===stack1)&&data.buffer.push(stack1),data.buffer.push("\n  "),data.buffer.push(escapeExpression(helpers.view.call(depth0,"App.PlayerView",{hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["ID"],data:data}))),data.buffer.push('\n</div>\n\n<div id="languages">\n  <button id="pt" onclick="t.change(this.id,true);">pt</button>\n  <button id="en" onclick="t.change(this.id,true);">en</button>\n</div>\n\n<div id="fb-root"></div>\n'),buffer}),Ember.TEMPLATES.channel=Ember.Handlebars.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var helper,options,buffer="";return data.buffer.push('\n  <span id="loading" data-uk-tooltip="{pos:\'bottom\'}" title="'),data.buffer.push(escapeExpression((helper=helpers.t||depth0&&depth0.t,options={hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["STRING"],data:data},helper?helper.call(depth0,"channel.status.loading",options):helperMissing.call(depth0,"t","channel.status.loading",options)))),data.buffer.push('"></span>\n  '),buffer}function program3(depth0,data){var helper,options,buffer="";return data.buffer.push('\n  <button class="uk-button uk-button-small uk-button-danger typcn typcn-times" '),data.buffer.push(escapeExpression(helpers.action.call(depth0,"unsubscribeChannel","id",{hash:{},hashTypes:{},hashContexts:{},contexts:[depth0,depth0],types:["STRING","ID"],data:data}))),data.buffer.push("> "),data.buffer.push(escapeExpression((helper=helpers.t||depth0&&depth0.t,options={hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["STRING"],data:data},helper?helper.call(depth0,"channel_new.button.unsubscribe",options):helperMissing.call(depth0,"t","channel_new.button.unsubscribe",options)))),data.buffer.push("</button>\n  "),buffer}function program5(depth0,data){var helper,options,buffer="";return data.buffer.push('\n  <button class="uk-button uk-button-small uk-button-success subscribe" '),data.buffer.push(escapeExpression(helpers.action.call(depth0,"subscribeChannel","id",{hash:{},hashTypes:{},hashContexts:{},contexts:[depth0,depth0],types:["STRING","ID"],data:data}))),data.buffer.push("> "),data.buffer.push(escapeExpression((helper=helpers.t||depth0&&depth0.t,options={hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["STRING"],data:data},helper?helper.call(depth0,"channel_new.button.subscribe",options):helperMissing.call(depth0,"t","channel_new.button.subscribe",options)))),data.buffer.push("</button>\n  "),buffer}function program7(depth0,data){var helper,options,buffer="";return data.buffer.push('\n    <button id="reload" class="uk-button uk-button-link" data-uk-tooltip="{pos:\'bottom\'}" title="'),data.buffer.push(escapeExpression((helper=helpers.t||depth0&&depth0.t,options={hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["STRING"],data:data},helper?helper.call(depth0,"channel.message.loading",options):helperMissing.call(depth0,"t","channel.message.loading",options)))),data.buffer.push('">Loading...</button>\n  '),buffer}function program9(depth0,data){var buffer="";return data.buffer.push('\n    <button id="reload" class="uk-button" '),data.buffer.push(escapeExpression(helpers.action.call(depth0,"reloadChannel","id",{hash:{},hashTypes:{},hashContexts:{},contexts:[depth0,depth0],types:["STRING","ID"],data:data}))),data.buffer.push('><i class="typcn typcn-refresh"></i></button>\n  '),buffer}function program11(depth0,data){var helper,options,buffer="";return data.buffer.push("\n  "),data.buffer.push(escapeExpression((helper=helpers["episode-list-item"]||depth0&&depth0["episode-list-item"],options={hash:{episode:"episode"},hashTypes:{episode:"ID"},hashContexts:{episode:depth0},contexts:[],types:[],data:data},helper?helper.call(depth0,options):helperMissing.call(depth0,"episode-list-item",options)))),data.buffer.push("\n  "),buffer}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Ember.Handlebars.helpers),data=data||{};var stack1,buffer="",helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this;return data.buffer.push("<h2>\n  "),stack1=helpers["if"].call(depth0,"loading",{hash:{},hashTypes:{},hashContexts:{},inverse:self.noop,fn:self.program(1,program1,data),contexts:[depth0],types:["ID"],data:data}),(stack1||0===stack1)&&data.buffer.push(stack1),data.buffer.push("\n\n  "),stack1=helpers._triageMustache.call(depth0,"title",{hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["ID"],data:data}),(stack1||0===stack1)&&data.buffer.push(stack1),data.buffer.push("\n\n  "),stack1=helpers["if"].call(depth0,"subscribed",{hash:{},hashTypes:{},hashContexts:{},inverse:self.program(5,program5,data),fn:self.program(3,program3,data),contexts:[depth0],types:["ID"],data:data}),(stack1||0===stack1)&&data.buffer.push(stack1),data.buffer.push("\n\n  "),stack1=helpers["if"].call(depth0,"loading",{hash:{},hashTypes:{},hashContexts:{},inverse:self.program(9,program9,data),fn:self.program(7,program7,data),contexts:[depth0],types:["ID"],data:data}),(stack1||0===stack1)&&data.buffer.push(stack1),data.buffer.push('\n</h2>\n\n\n<ul class="episodes">\n  '),stack1=helpers.each.call(depth0,"episode","in","episodes",{hash:{},hashTypes:{},hashContexts:{},inverse:self.noop,fn:self.program(11,program11,data),contexts:[depth0,depth0,depth0],types:["ID","ID","ID"],data:data}),(stack1||0===stack1)&&data.buffer.push(stack1),data.buffer.push("\n</ul>\n"),buffer}),Ember.TEMPLATES.channel_new=Ember.Handlebars.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return data.buffer.push('\n  <ul id="channels">\n    '),stack1=helpers.each.call(depth0,"channel","in","channels",{hash:{},hashTypes:{},hashContexts:{},inverse:self.noop,fn:self.program(2,program2,data),contexts:[depth0,depth0,depth0],types:["ID","ID","ID"],data:data}),(stack1||0===stack1)&&data.buffer.push(stack1),data.buffer.push("\n  </ul>\n  "),buffer}function program2(depth0,data){var stack1,buffer="";return data.buffer.push('\n    <li class="channel column three-twelfth">\n      <img '),data.buffer.push(escapeExpression(helpers["bind-attr"].call(depth0,{hash:{src:"channel.image_url"},hashTypes:{src:"ID"},hashContexts:{src:depth0},contexts:[],types:[],data:data}))),data.buffer.push(" />\n      <h5>"),stack1=helpers._triageMustache.call(depth0,"channel.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["ID"],data:data}),(stack1||0===stack1)&&data.buffer.push(stack1),data.buffer.push("</h5>\n      "),stack1=helpers["if"].call(depth0,"channel.subscribed",{hash:{},hashTypes:{},hashContexts:{},inverse:self.program(5,program5,data),fn:self.program(3,program3,data),contexts:[depth0],types:["ID"],data:data}),(stack1||0===stack1)&&data.buffer.push(stack1),data.buffer.push("\n    </li>\n    "),buffer}function program3(depth0,data){var helper,options,buffer="";return data.buffer.push('\n      <button class="uk-button uk-button-small unsubscribe fa fa-check" '),data.buffer.push(escapeExpression(helpers.action.call(depth0,"unsubscribeChannel","channel.id",{hash:{},hashTypes:{},hashContexts:{},contexts:[depth0,depth0],types:["STRING","ID"],data:data}))),data.buffer.push(">"),data.buffer.push(escapeExpression((helper=helpers.t||depth0&&depth0.t,options={hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["STRING"],data:data},helper?helper.call(depth0,"channel_new.button.subscribed",options):helperMissing.call(depth0,"t","channel_new.button.subscribed",options)))),data.buffer.push("</button>\n      "),buffer}function program5(depth0,data){var helper,options,buffer="";return data.buffer.push('\n      <button class="uk-button uk-button-small uk-button-success subscribe" '),data.buffer.push(escapeExpression(helpers.action.call(depth0,"subscribeChannel","channel.id",{hash:{},hashTypes:{},hashContexts:{},contexts:[depth0,depth0],types:["STRING","ID"],data:data}))),data.buffer.push(">"),data.buffer.push(escapeExpression((helper=helpers.t||depth0&&depth0.t,options={hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["STRING"],data:data},helper?helper.call(depth0,"channel_new.button.subscribe",options):helperMissing.call(depth0,"t","channel_new.button.subscribe",options)))),data.buffer.push("</button>\n      "),buffer}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Ember.Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing,self=this;return data.buffer.push('<div id="channel_new">\n  <h3>'),data.buffer.push(escapeExpression((helper=helpers.t||depth0&&depth0.t,options={hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["STRING"],data:data},helper?helper.call(depth0,"channel_new.title",options):helperMissing.call(depth0,"t","channel_new.title",options)))),data.buffer.push("</h3>\n  <h4>"),data.buffer.push(escapeExpression((helper=helpers.t||depth0&&depth0.t,options={hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["STRING"],data:data},helper?helper.call(depth0,"channel_new.subtitle",options):helperMissing.call(depth0,"t","channel_new.subtitle",options)))),data.buffer.push('</h4>\n\n  <form id="add_channel" class="uk-form uk-form-stacked" '),data.buffer.push(escapeExpression(helpers.action.call(depth0,"addChannel",{hash:{on:"submit"},hashTypes:{on:"STRING"},hashContexts:{on:depth0},contexts:[depth0],types:["STRING"],data:data}))),data.buffer.push(' >\n    <label for="url" class="uk-form-label">'),data.buffer.push(escapeExpression((helper=helpers.t||depth0&&depth0.t,options={hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["STRING"],data:data},helper?helper.call(depth0,"channel_new.podcast_url",options):helperMissing.call(depth0,"t","channel_new.podcast_url",options)))),data.buffer.push('</label>\n    <input class="uk-form-large" id="url" type="url" name="url" />\n    <button type="submit" class="uk-button uk-button-success">'),data.buffer.push(escapeExpression((helper=helpers.t||depth0&&depth0.t,options={hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["STRING"],data:data},helper?helper.call(depth0,"channel_new.button.add",options):helperMissing.call(depth0,"t","channel_new.button.add",options)))),data.buffer.push('</button>\n  </form>\n\n  <form id="search_channel" class="uk-form uk-form-stacked" '),data.buffer.push(escapeExpression(helpers.action.call(depth0,"searchChannel",{hash:{on:"submit"},hashTypes:{on:"STRING"},hashContexts:{on:depth0},contexts:[depth0],types:["STRING"],data:data}))),data.buffer.push(' >\n    <label for="q" class="uk-form-label">'),data.buffer.push(escapeExpression((helper=helpers.t||depth0&&depth0.t,options={hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["STRING"],data:data},helper?helper.call(depth0,"channel_new.search",options):helperMissing.call(depth0,"t","channel_new.search",options)))),data.buffer.push('</label>\n    <input class="uk-form-large" id="q" type="search" name="q" />\n    <button type="submit" class="uk-button uk-button-success">'),data.buffer.push(escapeExpression((helper=helpers.t||depth0&&depth0.t,options={hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["STRING"],data:data},helper?helper.call(depth0,"channel_new.button.search",options):helperMissing.call(depth0,"t","channel_new.button.search",options)))),data.buffer.push("</button>\n  </form>\n\n  "),stack1=helpers["if"].call(depth0,"channels",{hash:{},hashTypes:{},hashContexts:{},inverse:self.noop,fn:self.program(1,program1,data),contexts:[depth0],types:["ID"],data:data}),(stack1||0===stack1)&&data.buffer.push(stack1),data.buffer.push("\n</div>\n"),buffer}),Ember.TEMPLATES["component/episode-list-item"]=Ember.Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Ember.Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing;return data.buffer.push("<li "),data.buffer.push(escapeExpression(helpers["bind-attr"].call(depth0,{hash:{"class":":audio episode.listened episode.playing"},hashTypes:{"class":"STRING"},hashContexts:{"class":depth0},contexts:[],types:[],data:data}))),data.buffer.push(" "),data.buffer.push(escapeExpression(helpers["bind-attr"].call(depth0,{hash:{"data-id":"episode.id"},hashTypes:{"data-id":"ID"},hashContexts:{"data-id":depth0},contexts:[],types:[],data:data}))),data.buffer.push(" "),data.buffer.push(escapeExpression(helpers["bind-attr"].call(depth0,{hash:{"data-source_url":"episode.source_url"},hashTypes:{"data-source_url":"ID"},hashContexts:{"data-source_url":depth0},contexts:[],types:[],data:data}))),data.buffer.push(">\n  "),data.buffer.push(escapeExpression((helper=helpers["play-pause-button"]||depth0&&depth0["play-pause-button"],options={hash:{episode:"episode"},hashTypes:{episode:"ID"},hashContexts:{episode:depth0},contexts:[],types:[],data:data},helper?helper.call(depth0,options):helperMissing.call(depth0,"play-pause-button",options)))),data.buffer.push('\n  <div class="title">\n    '),stack1=helpers._triageMustache.call(depth0,"episode.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["ID"],data:data}),(stack1||0===stack1)&&data.buffer.push(stack1),data.buffer.push("\n  </div>\n  <button "),data.buffer.push(escapeExpression(helpers["bind-attr"].call(depth0,{hash:{"data-id":"episode.id"},hashTypes:{"data-id":"ID"},hashContexts:{"data-id":depth0},contexts:[],types:[],data:data}))),data.buffer.push(' data-uk-tooltip="{pos:\'bottom\'}" title="'),data.buffer.push(escapeExpression((helper=helpers.t||depth0&&depth0.t,options={hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["STRING"],data:data},helper?helper.call(depth0,"episode.button.listened",options):helperMissing.call(depth0,"t","episode.button.listened",options)))),data.buffer.push('" '),data.buffer.push(escapeExpression(helpers["bind-attr"].call(depth0,{hash:{"class":":listened :typcn episode.listened:typcn-tick:typcn-tick-outline"},hashTypes:{"class":"STRING"},hashContexts:{"class":depth0},contexts:[],types:[],data:data}))),data.buffer.push('> </button>\n  <button data-uk-tooltip="{pos:\'bottom\'}" title="'),data.buffer.push(escapeExpression((helper=helpers.t||depth0&&depth0.t,options={hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["STRING"],data:data},helper?helper.call(depth0,"episode.button.info",options):helperMissing.call(depth0,"t","episode.button.info",options)))),data.buffer.push('" class="more-info typcn typcn-info-large"> </button>\n  <div class="description">\n    '),data.buffer.push(escapeExpression(helpers._triageMustache.call(depth0,"episode.description",{hash:{unescaped:"true"},hashTypes:{unescaped:"STRING"},hashContexts:{unescaped:depth0},contexts:[depth0],types:["ID"],data:data}))),data.buffer.push("\n  </div>\n</li>\n"),buffer
}),Ember.TEMPLATES["component/play-pause-button"]=Ember.Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Ember.Handlebars.helpers),data=data||{};var buffer="",escapeExpression=this.escapeExpression;return data.buffer.push("<i "),data.buffer.push(escapeExpression(helpers["bind-attr"].call(depth0,{hash:{"class":":typcn episode.playing:typcn-media-pause:typcn-media-play"},hashTypes:{"class":"STRING"},hashContexts:{"class":depth0},contexts:[],types:[],data:data}))),data.buffer.push(" "),data.buffer.push(escapeExpression(helpers.action.call(depth0,"playpause","episode",{hash:{},hashTypes:{},hashContexts:{},contexts:[depth0,depth0],types:["STRING","ID"],data:data}))),data.buffer.push(">\n</i>\n\n\n\n"),buffer}),Ember.TEMPLATES.index=Ember.Handlebars.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,buffer="";return data.buffer.push('\n    <li>\n      <h3><span class="typcn typcn-th-large-outline"></span>'),stack1=helpers._triageMustache.call(depth0,"channel.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["ID"],data:data}),(stack1||0===stack1)&&data.buffer.push(stack1),data.buffer.push('</h3>\n      <ul class="episodes">\n        '),stack1=helpers.each.call(depth0,"episode","in","channel.episodes",{hash:{},hashTypes:{},hashContexts:{},inverse:self.noop,fn:self.program(2,program2,data),contexts:[depth0,depth0,depth0],types:["ID","ID","ID"],data:data}),(stack1||0===stack1)&&data.buffer.push(stack1),data.buffer.push("\n      </ul>\n    </li>\n  "),buffer}function program2(depth0,data){var helper,options,buffer="";return data.buffer.push("\n          "),data.buffer.push(escapeExpression((helper=helpers["episode-list-item"]||depth0&&depth0["episode-list-item"],options={hash:{episode:"episode"},hashTypes:{episode:"ID"},hashContexts:{episode:depth0},contexts:[],types:[],data:data},helper?helper.call(depth0,options):helperMissing.call(depth0,"episode-list-item",options)))),data.buffer.push("\n        "),buffer}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Ember.Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this;return data.buffer.push("<h2>"),data.buffer.push(escapeExpression((helper=helpers.t||depth0&&depth0.t,options={hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["STRING"],data:data},helper?helper.call(depth0,"index.suggestions",options):helperMissing.call(depth0,"t","index.suggestions",options)))),data.buffer.push('</h2>\n<ul id="channels">\n  '),stack1=helpers.each.call(depth0,"channel","in","channels",{hash:{},hashTypes:{},hashContexts:{},inverse:self.noop,fn:self.program(1,program1,data),contexts:[depth0,depth0,depth0],types:["ID","ID","ID"],data:data}),(stack1||0===stack1)&&data.buffer.push(stack1),data.buffer.push("\n</ul>\n"),buffer}),Ember.TEMPLATES.player=Ember.Handlebars.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,helper,options,buffer="";return data.buffer.push('\n<div id="player">\n  <div id="player-image">\n    '),data.buffer.push(escapeExpression((helper=helpers["play-pause-button"]||depth0&&depth0["play-pause-button"],options={hash:{episode:""},hashTypes:{episode:"ID"},hashContexts:{episode:depth0},contexts:[],types:[],data:data},helper?helper.call(depth0,options):helperMissing.call(depth0,"play-pause-button",options)))),data.buffer.push("\n    <img "),data.buffer.push(escapeExpression(helpers["bind-attr"].call(depth0,{hash:{src:"channel.image_url"},hashTypes:{src:"ID"},hashContexts:{src:depth0},contexts:[],types:[],data:data}))),data.buffer.push('>\n  </div>\n  <div id="player-info">\n    <h4>'),stack1=helpers._triageMustache.call(depth0,"title",{hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["ID"],data:data}),(stack1||0===stack1)&&data.buffer.push(stack1),data.buffer.push("</h4>\n    <h5>"),stack1=helpers._triageMustache.call(depth0,"channel.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["ID"],data:data}),(stack1||0===stack1)&&data.buffer.push(stack1),data.buffer.push('</h5>\n    <div id="player-loader">\n      <div class="loading"></div>\n      <div class="playing"></div>\n    </div>\n  </div>\n</div>\n'),buffer}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Ember.Handlebars.helpers),data=data||{};var stack1,buffer="",helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this;return stack1=helpers["if"].call(depth0,"model",{hash:{},hashTypes:{},hashContexts:{},inverse:self.noop,fn:self.program(1,program1,data),contexts:[depth0],types:["ID"],data:data}),(stack1||0===stack1)&&data.buffer.push(stack1),data.buffer.push("\n"),buffer}),App.ChannelNewView=Ember.View.extend({templateName:"channel_new"}),App.EpisodeListItemComponent=Ember.Component.extend({layoutName:"component/episode-list-item",click:function(e){element=$(e.toElement),element.is(".listened")&&App.Player.listened(this.episode)}}),App.PlayPauseButtonComponent=Ember.Component.extend({layoutName:"component/play-pause-button",classNames:["play-pause"],actions:{playpause:function(episode){var __playing=function(episode){return function(){App.Player.playpause(episode)}};window.auth.withLoggedUser(__playing(episode))}}}),App.PlayerView=Ember.View.extend({templateName:"player",classNames:["PlayerContainer","column","five-twelfth"],controller:App.PlayerController});